{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/app.html","webpack:///./src/tools/index.js","webpack:///./src/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","radius","button","userUnitX","userUnitY","drawing","currentColor","currentSecColor","frames","x0","y0","x1","y1","mirrorX","mirrorX0","mirrorY","mirrorY0","frame","numb","count","fpsRange","document","querySelector","fpsValue","fps","canvasMain","getElementsByClassName","canvas","getElementById","ctx","getContext","canvasClone","ctxClone","canvasCloneAnim","cta","canvasPrev","cprev","canvasSize","size","pickBtn","erBtn","penBtn","vertMirBtn","horizMirBtn","rectBtn","strokeBtn","circBtn","colorBtn","secColorBtn","addEventListener","classList","toggle","add","style","visibility","this","children","length","checked","defineUserUnit","x","y","Math","ceil","fillUnit","fillStyle","startX","startY","beginPath","fillRect","fill","clearRect","BrezAlgCirc","delta","error","BrezAlg","deltax","abs","deltay","deltaerr","missedY","diry","missedX","dirx","strokeLineAlg","dx","dy","dx1","dy1","px","py","xe","ye","coord","drawFrame","ctf","drawImage","getImageData","hoverFrame","event","target","closest","leaveFrame","clientX","clientY","innerHTML","undefined","pageX","offsetLeft","pageY","offsetTop","pixel","data","red","toString","green","blue","preventDefault","sqrt","pow","frameItem","querySelectorAll","curFrame","addBtn","animation","setTimeout","window","requestAnimationFrame","putImageData","drawMain","searchFrame","pos","textContent","newValue","stopPropagation","push","div","createElement","className","insertBefore","numDiv","appendChild","parentElement","canv","setAttribute","btn","containerFrames","btnDel","delFrame","parentFrame","contains","removeChild","splice","item","requestFullscreen","gif","GIF","workers","quality","repeat","addFrame","copy","delay","a","display","on","blob","href","URL","createObjectURL","render","download","app"],"mappings":"aACA,IAAAA,EAAA,GAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,GAAA,CACAG,EAAAH,EACAI,GAAA,EACAH,QAAA,IAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,IAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,EAAA,CAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,eAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,YAAA,CAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,iBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,KAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,IAAAmC,EAAA,qCClFAhC,EAAAD,QAAA,o9FCMe,WACb,IAGIkC,EAEAC,EACAC,EACAC,EAPAC,GAAU,EACVC,EAAe,MACfC,EAAkB,QAElBnB,EAAO,MAIX,MAAMoB,EAAS,GACf,IAEIC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EATAC,EAAQ,GACRC,EAAO,EASPC,EAAQ,EACZ,MAAMC,EAAWC,SAASC,cAAc,uBAClCC,EAAWF,SAASC,cAAc,UACxC,IAAIE,EAAMJ,EAASlC,MAInB,MAAMuC,EAAaJ,SAASK,uBAAuB,eAAe,GAE5DC,EAASN,SAASO,eAAe,eACjCC,EAAMF,EAAOG,WAAW,MAExBC,EAAcV,SAASO,eAAe,gBACtCI,EAAWD,EAAYD,WAAW,MAGlCG,EAAkBZ,SAASO,eAAe,wBAC1CM,EAAMD,EAAgBH,WAAW,MAEjCK,EAAad,SAASO,eAAe,kBACrCQ,EAAQD,EAAWL,WAAW,MAGpC,IAAIO,EAAa,GACjB,MAAMC,EAAOjB,SAASK,uBAAuB,cAAc,GAGrDa,EAAUlB,SAASO,eAAe,oBAClCY,EAAQnB,SAASO,eAAe,cAChCa,EAASpB,SAASO,eAAe,WACjCc,EAAarB,SAASK,uBAAuB,gBAAgB,GAC7DiB,EAActB,SAASK,uBAAuB,iBAAiB,GAC/DkB,EAAUvB,SAASO,eAAe,YAClCiB,EAAYxB,SAASO,eAAe,cACpCkB,EAAUzB,SAASO,eAAe,cAClCmB,EAAW1B,SAASO,eAAe,SACnCoB,EAAc3B,SAASO,eAAe,aAwD5CW,EAAQU,iBAAiB,QAnCzB,WACE7D,EAAO,YACPiC,SAASK,uBAAuB,YAAY,GAAGwB,UAAUC,OAAO,YAChEZ,EAAQW,UAAUE,IAAI,cAkCxBZ,EAAMS,iBAAiB,QA9BvB,WACE7D,EAAO,SACPiC,SAASK,uBAAuB,YAAY,GAAGwB,UAAUC,OAAO,YAChEX,EAAMU,UAAUE,IAAI,cA6BtBX,EAAOQ,iBAAiB,QAzDxB,WACE7D,EAAO,MACPiC,SAASK,uBAAuB,YAAY,GAAGwB,UAAUC,OAAO,YAChEV,EAAOS,UAAUE,IAAI,cAwDvBV,EAAWO,iBAAiB,QArD5B,WACE7D,EAAO,gBACPiC,SAASK,uBAAuB,YAAY,GAAGwB,UAAUC,OAAO,YAChET,EAAWQ,UAAUE,IAAI,cAoD3BT,EAAYM,iBAAiB,QAjD7B,WACE7D,EAAO,iBACPiC,SAASK,uBAAuB,YAAY,GAAGwB,UAAUC,OAAO,YAChER,EAAYO,UAAUE,IAAI,cAgD5BR,EAAQK,iBAAiB,QAzBzB,WACE7D,EAAO,YACP2C,EAAYsB,MAAMC,WAAa,UAC/BjC,SAASK,uBAAuB,YAAY,GAAGwB,UAAUC,OAAO,YAChEP,EAAQM,UAAUE,IAAI,cAuBxBP,EAAUI,iBAAiB,QAlC3B,WACE7D,EAAO,SACP2C,EAAYsB,MAAMC,WAAa,UAC/BjC,SAASK,uBAAuB,YAAY,GAAGwB,UAAUC,OAAO,YAChEN,EAAUK,UAAUE,IAAI,cAgC1BN,EAAQG,iBAAiB,QAtBzB,WACE7D,EAAO,SACP2C,EAAYsB,MAAMC,WAAa,UAC/BjC,SAASK,uBAAuB,YAAY,GAAGwB,UAAUC,OAAO,YAChEL,EAAQI,UAAUE,IAAI,cA6BxBL,EAASE,iBAAiB,QAR1B,WACE3C,EAAeiD,KAAKrE,QAQtB8D,EAAYC,iBAAiB,QAL7B,WACE1C,EAAkBgD,KAAKrE,QAgBzBoD,EAAKW,iBAAiB,QARtB,WACE,IAAK,IAAIhF,EAAI,EAAGA,EAAIqE,EAAKkB,SAASC,OAAQxF,GAAK,GACZ,IAA7BqE,EAAKkB,SAASvF,GAAGyF,UACnBrB,GAAcC,EAAKkB,SAASvF,GAAGiB,SASrC,MAAMyE,EAAiB,CAACC,EAAGC,KACrBD,EAAI,MAAOA,EAAI,KACfC,EAAI,MAAOA,EAAI,KACA,KAAfxB,IACFlC,EAAY2D,KAAKC,KAAKH,EAAI,IAC1BxD,EAAY0D,KAAKC,KAAKF,EAAI,KAET,KAAfxB,IACFlC,EAAY2D,KAAKC,KAAKH,EAAI,IAC1BxD,EAAY0D,KAAKC,KAAKF,EAAI,KAET,MAAfxB,IACFlC,EAAY2D,KAAKC,KAAKH,EAAI,GAC1BxD,EAAY0D,KAAKC,KAAKF,EAAI,KAK9B,SAASG,EAASJ,EAAGC,EAAGhC,GAGtB,GAFe,UAAX3B,IAAsB2B,EAAIoC,UAAY1D,GAC3B,SAAXL,IAAqB2B,EAAIoC,UAAY3D,GACtB,KAAf+B,EAAmB,CACrB,MAAM6B,EAAmB,IAATN,EAAI,GACdO,EAAmB,IAATN,EAAI,GACpBhC,EAAIuC,YACS,QAAThF,GAA2B,kBAATA,GAAqC,mBAATA,GAAsC,WAATA,GAA8B,cAATA,GAAiC,WAATA,IAC1HyC,EAAIwC,SAASH,EAAQC,EAAQ,GAAI,IACjCtC,EAAIyC,QAEO,WAATlF,GAAqByC,EAAI0C,UAAUL,EAAQC,EAAQ,GAAI,IAE7D,GAAmB,KAAf9B,EAAmB,CACrB,MAAM6B,EAAmB,IAATN,EAAI,GACdO,EAAmB,IAATN,EAAI,GACpBhC,EAAIuC,YACS,QAAThF,GAA2B,kBAATA,GAAqC,mBAATA,GAAsC,WAATA,GAA8B,cAATA,GAAiC,WAATA,IAC1HyC,EAAIwC,SAASH,EAAQC,EAAQ,GAAI,IACjCtC,EAAIyC,QAEO,WAATlF,GAAqByC,EAAI0C,UAAUL,EAAQC,EAAQ,GAAI,IAE7D,GAAmB,MAAf9B,EAAoB,CACtB,MAAM6B,EAAmB,GAATN,EAAI,GACdO,EAAmB,GAATN,EAAI,GACpBhC,EAAIuC,YACS,QAAThF,GAA2B,kBAATA,GAAqC,mBAATA,GAAsC,WAATA,GAA8B,cAATA,GAAiC,WAATA,IAC1HyC,EAAIwC,SAASH,EAAQC,EAAQ,EAAG,GAChCtC,EAAIyC,QAEO,WAATlF,GAAqByC,EAAI0C,UAAUL,EAAQC,EAAQ,EAAG,IAK9D,SAASK,EAAY/D,EAAIC,EAAIT,EAAQ+B,GACnC,IAAI4B,EAAI,EACJC,EAAI5D,EACJwE,EAAQ,EAAI,EAAIxE,EAChByE,EAAQ,EACZ,KAAOb,GAAK,GACVF,EAAelD,EAAKmD,EAAGlD,EAAKmD,GAC5BG,EAAS7D,EAAWC,EAAW4B,GAC/B2B,EAAelD,EAAKmD,EAAGlD,EAAKmD,GAC5BG,EAAS7D,EAAWC,EAAW4B,GAC/B2B,EAAelD,EAAKmD,EAAGlD,EAAKmD,GAC5BG,EAAS7D,EAAWC,EAAW4B,GAC/B2B,EAAelD,EAAKmD,EAAGlD,EAAKmD,GAC5BG,EAAS7D,EAAWC,EAAW4B,GAC/B0C,EAAQ,GAAKD,EAAQZ,GAAK,EACtBY,EAAQ,GAAKC,GAAS,EAGxBD,GAAS,GAFTb,GAAK,GAEY,GAEnBc,EAAQ,GAAKD,EAAQb,GAAK,EACtBa,EAAQ,GAAKC,EAAQ,EAGvBD,GAAS,EAAI,GAFbZ,GAAK,IAKPY,GAAS,IADTb,GAAK,GACaC,GAClBA,GAAK,IAMT,SAASc,EAAQlE,EAAIE,EAAID,EAAIE,EAAIiB,GAC/B,MAAM+C,EAASd,KAAKe,IAAIlE,EAAKF,GACvBqE,EAAShB,KAAKe,IAAIjE,EAAKF,GAC7B,IAAIgE,EAAQ,EACRK,EAAWD,EAASF,EACpBI,EAAUtE,EACVuE,EAAOrE,EAAKF,EAGhB,GAFIuE,EAAO,IAAKA,EAAO,GACnBA,EAAO,IAAKA,GAAQ,GACpBxE,EAAKE,EACP,IAAK,IAAIuE,EAAUzE,EAAIyE,GAAWvE,EAAIuE,GAAW,EAC/CvB,EAAeuB,EAASF,GACxBhB,EAAS7D,EAAWC,EAAWyB,IAC/B6C,GAASK,IACI,KACXC,GAAWC,EACXP,GAAS,QAGR,GAAIjE,EAAKE,EACd,IAAK,IAAIuE,EAAUzE,EAAIyE,GAAWvE,EAAIuE,GAAW,EAC/CvB,EAAeuB,EAASF,GACxBhB,EAAS7D,EAAWC,EAAWyB,IAC/B6C,GAASK,IACI,KACXC,GAAWC,EACXP,GAAS,GAKf,GAAII,EAASF,EAAQ,CACnBG,EAAWH,EAASE,EACpB,IAAII,EAAUzE,EACV0E,EAAOxE,EAAKF,EAGhB,GAFI0E,EAAO,IAAKA,EAAO,GACnBA,EAAO,IAAKA,GAAQ,GACpBzE,EAAKE,EACP,IAAKoE,EAAUtE,EAAIsE,GAAWpE,EAAIoE,GAAW,EAC3CrB,EAAeuB,EAASF,GACxBhB,EAAS7D,EAAWC,EAAWyB,IAC/B6C,GAASK,IACI,KACXG,GAAWC,EACXT,GAAS,QAGR,GAAIhE,EAAKE,EACd,IAAKoE,EAAUtE,EAAIsE,GAAWpE,EAAIoE,GAAW,EAC3CrB,EAAeuB,EAASF,GACxBhB,EAAS7D,EAAWC,EAAWyB,IAC/B6C,GAASK,IACI,KACXG,GAAWC,EACXT,GAAS,IAQnB,SAASU,EAAc3E,EAAIE,EAAID,EAAIE,EAAIiB,GACrC,IAAI+B,EAAOC,EACPwB,EAAQC,EAAQC,EAChBC,EAASC,EAAQC,EAAQC,EAAQC,EAAQ3H,EAI7C,GAHAoH,EAAK1E,EAAKF,EAAI6E,EAAK1E,EAAKF,EACxB6E,EAAMzB,KAAKe,IAAIQ,GACfI,EAAK,GADeD,EAAM1B,KAAKe,IAAIS,IACpBC,EAAKG,EAAK,EAAIH,EAAMC,EAC/BA,GAAOD,EAST,IARIF,GAAM,GACRzB,EAAInD,EAAIoD,EAAInD,EAAIiF,EAAKhF,IAErBiD,EAAIjD,EAAIkD,EAAIjD,EAAI+E,EAAKlF,GAEvBkD,EAAeC,EAAGC,GAClBG,EAAS7D,EAAWC,EAAWyB,GAE1B5D,EAAI,EAAG2F,EAAI+B,EAAI1H,GAAK,EAEnBwH,EAAK,EACPA,GAAM,EAAID,GAELH,EAAK,GAAKC,EAAK,GAAOD,EAAK,GAAKC,EAAK,EACxCzB,GAAK,EAELA,GAAK,EAEP4B,GAAM,GAAKD,EAAMD,IAEnB5B,EAXAC,GAAK,EAWaC,GAClBG,EAAS7D,EAAWC,EAAWyB,QAUjC,IAPIyD,GAAM,GACR1B,EAAInD,EAAIoD,EAAInD,EAAIkF,EAAKhF,IAErBgD,EAAIjD,EAAIkD,EAAIjD,EAAIgF,EAAKlF,GAEvBiD,EAAeC,EAAGC,GAClBG,EAAS7D,EAAWC,EAAWyB,GAC1B5D,EAAI,EAAG4F,EAAI+B,EAAI3H,GAAK,EAEnByH,GAAM,EACRA,GAAM,EAAIH,GAELF,EAAK,GAAKC,EAAK,GAAOD,EAAK,GAAKC,EAAK,EACxC1B,GAAK,EAELA,GAAK,EAEP8B,GAAM,GAAKH,EAAMC,IAEnB7B,EAAeC,EAXfC,GAAK,GAYLG,EAAS7D,EAAWC,EAAWyB,GAOrC,MAAMgE,EAAQxE,SAASK,uBAAuB,aAAa,GA4E3D,SAASoE,IACP,IACIC,EADc1E,SAASK,uBAAuB,iBAAiB,GAAG8B,SAAS,GACzD1B,WAAW,MACjCiE,EAAIxB,UAAU,EAAG,EAAG,IAAK,KACzBwB,EAAIC,UAAUrE,EAAQ,EAAG,EAAG,IAAK,KACjCV,EAAQY,EAAIoE,aAAa,EAAG,EAAG,IAAK,KAuKtC,SAASC,EAAWC,GACHA,EAAMC,OAAOC,QAAQ,UAAU7C,SAAS,GAChDH,MAAMC,WAAa,UAG5B,SAASgD,EAAWH,GACHA,EAAMC,OAAOC,QAAQ,UAAU7C,SAAS,GAChDH,MAAMC,WAAa,SAnP5B3B,EAAOsB,iBAAiB,YATxB,SAA4BkD,GAC1B,MAAMvC,EAAIuC,EAAMI,QACV1C,EAAIsC,EAAMK,QAChB7C,EAAeC,EAAGC,GAClBgC,EAAMrC,SAAS,GAAGiD,eAAiBtG,gBAAwByD,OAC3DiC,EAAMrC,SAAS,GAAGiD,eAAiBrG,gBAAwByD,SAmO7DlC,EAAOsB,iBAAiB,YAjMxB,SAAsBkD,GACC,IAAjBA,EAAMjG,SAAgBA,EAAS,QACd,IAAjBiG,EAAMjG,SAAgBA,EAAS,SACtB,QAATd,GAA2B,WAATA,IACpBiB,GAAU,EACVI,OAAKiG,EACLhG,OAAKgG,GAEM,kBAATtH,IACFiB,GAAU,EACVI,OAAKiG,EACLhG,OAAKgG,EACL7F,OAAU6F,EACV5F,OAAW4F,GAGA,mBAATtH,IACFiB,GAAU,EACVI,OAAKiG,EACLhG,OAAKgG,EACL3F,OAAU2F,EACV1F,OAAW0F,GAGA,WAATtH,GAA8B,cAATA,GAAiC,WAATA,IAC/C2C,EAAYsB,MAAMC,WAAa,UAC/B7C,EAAK0F,EAAMQ,MAAQlF,EAAWmF,WAC9BlG,EAAKyF,EAAMU,MAAQpF,EAAWqF,UAC9BzG,GAAU,EACVsD,EAAelD,EAAIC,GACnBsD,EAAS7D,EAAWC,EAAW4B,MAoKnCL,EAAOsB,iBAAiB,YA1NxB,SAAmBkD,GACjB,GAAa,cAAT/G,EAAsB,CACxBqB,EAAK0F,EAAMQ,MAAQlF,EAAWmF,WAC9BlG,EAAKyF,EAAMU,MAAQpF,EAAWqF,UAC9B,MACMC,EADYlF,EAAIoE,aAAaxF,EAAIC,EAAI,EAAG,GACtBsG,KACxB,IAAIC,EAAMF,EAAM,GAAGG,SAAS,IACT,IAAfD,EAAIxD,SAAgBwD,MAAUA,KAClC,IAAIE,EAAQJ,EAAM,GAAGG,SAAS,IACT,IAAjBC,EAAM1D,SAAgB0D,MAAYA,KACtC,IAAIC,EAAOL,EAAM,GAAGG,SAAS,IACT,IAAhBE,EAAK3D,SAAgB2D,MAAWA,KACf,IAAjBjB,EAAMjG,SACRI,MAAmB2G,IAAME,IAAQC,IACjCrE,EAAS7D,MAAQoB,GAEE,IAAjB6F,EAAMjG,SACRK,MAAsB0G,IAAME,IAAQC,IACpCpE,EAAY9D,MAAQqB,MAyM1BoB,EAAOsB,iBAAiB,UA5IxB,WACe,QAAT7D,GAA2B,WAATA,IACpBiB,GAAU,EACVI,OAAKiG,EACL/F,OAAK+F,EACLhG,OAAKgG,EACL9F,OAAK8F,EACLZ,KAEW,kBAAT1G,GAAqC,mBAATA,IAC9BiB,GAAU,EACVI,OAAKiG,EACL/F,OAAK+F,EACLhG,OAAKgG,EACL9F,OAAK8F,EACL7F,OAAU6F,EACV5F,OAAW4F,EACX3F,OAAU2F,EACV1F,OAAW0F,EACXZ,OA0HJnE,EAAOsB,iBAAiB,YA5CxB,SAAwBkD,IACR,QAAT/G,IAA8B,IAAZiB,GAA+B,WAATjB,IAAiC,IAAZiB,KAChEM,EAAKwF,EAAMQ,MAAQlF,EAAWmF,WAC9BhG,EAAKuF,EAAMU,MAAQpF,EAAWqF,UAC9BnD,EAAehD,EAAIC,GACnBoD,EAAS7D,EAAWC,EAAWyB,GAC1BpB,GAAQC,GAAOiE,EAAQlE,EAAIE,EAAID,EAAIE,EAAIiB,GAC5CpB,EAAKE,EACLD,EAAKE,GAEM,kBAATxB,IAAwC,IAAZiB,IAC9BM,EAAKwF,EAAMQ,MAAQlF,EAAWmF,WAC9B/F,EAAU,IAAMF,EAAK,EACrBC,EAAKuF,EAAMU,MAAQpF,EAAWqF,UAC9BnD,EAAehD,EAAIC,GACnBoD,EAAS7D,EAAWC,EAAWyB,GAC/B8B,EAAe9C,EAASD,GACxBoD,EAAS7D,EAAWC,EAAWyB,GAC1BpB,GAAQC,GAAOiE,EAAQlE,EAAIE,EAAID,EAAIE,EAAIiB,GACvCf,GAAcJ,GAAOiE,EAAQ7D,EAAUD,EAASH,EAAIE,EAAIiB,GAC7DpB,EAAKE,EACLD,EAAKE,EACLE,EAAWD,GAEA,mBAATzB,IAAyC,IAAZiB,IAC/BM,EAAKwF,EAAMQ,MAAQlF,EAAWmF,WAC9BhG,EAAKuF,EAAMU,MAAQpF,EAAWqF,UAC9B/F,EAAU,IAAMH,EAAK,EACrB+C,EAAehD,EAAIC,GACnBoD,EAAS7D,EAAWC,EAAWyB,GAC/B8B,EAAehD,EAAII,GACnBiD,EAAS7D,EAAWC,EAAWyB,GAC1BpB,GAAQC,GAAOiE,EAAQlE,EAAIE,EAAID,EAAIE,EAAIiB,GACvCb,GAAcP,GAAOkE,EAAQlE,EAAIE,EAAIK,EAAUD,EAASc,GAC7DpB,EAAKE,EACLD,EAAKE,EACLI,EAAWD,KASfY,EAAOsB,iBAAiB,cAjOxB,SAA2BkD,GACzBA,EAAMkB,mBAiORtF,EAAYkB,iBAAiB,YA3J7B,SAA2BkD,GACJ,IAAjBA,EAAMjG,SAAgBA,EAAS,QACd,IAAjBiG,EAAMjG,SAAgBA,EAAS,SACtB,WAATd,GAA8B,cAATA,GAAiC,WAATA,IAC/CqB,EAAK0F,EAAMQ,MAAQlF,EAAWmF,WAC9BlG,EAAKyF,EAAMU,MAAQpF,EAAWqF,UAC9BzG,GAAU,EACVsD,EAAelD,EAAIC,GACnBsD,EAAS7D,EAAWC,EAAW4B,MAoJnCD,EAAYkB,iBAAiB,UAzH7B,WACe,WAAT7D,IACFiB,GAAU,EACVM,OAAK+F,EACL9F,OAAK8F,EACL3E,EAAYsB,MAAMC,WAAa,SAC/BkB,EAAY/D,EAAIC,EAAIT,EAAQ4B,GAC5BG,EAASuC,UAAU,EAAG,EAAG,IAAK,KAC9B9D,OAAKiG,EACLhG,OAAKgG,GAEM,WAATtH,IACFiB,GAAU,EACV0B,EAAYsB,MAAMC,WAAa,SAC/B8B,EAAc3E,EAAIE,EAAID,EAAIE,EAAIiB,GAC9BG,EAASuC,UAAU,EAAG,EAAG,IAAK,KAC9B9D,OAAKiG,EACL/F,OAAK+F,EACLhG,OAAKgG,EACL9F,OAAK8F,GAEM,cAATtH,IACFiB,GAAU,EACV0B,EAAYsB,MAAMC,WAAa,SAC/BqB,EAAQlE,EAAIA,EAAIC,EAAIE,EAAIiB,GACxB8C,EAAQlE,EAAIE,EAAIC,EAAIA,EAAIiB,GACxB8C,EAAQhE,EAAIA,EAAIC,EAAIF,EAAImB,GACxB8C,EAAQlE,EAAIE,EAAID,EAAIA,EAAImB,GACxBG,EAASuC,UAAU,EAAG,EAAG,IAAK,KAC9B9D,OAAKiG,EACL/F,OAAK+F,EACLhG,OAAKgG,EACL9F,OAAK8F,GAEPZ,MAwFF/D,EAAYkB,iBAAiB,YA1D7B,SAA4BkD,GACb,WAAT/G,IAAiC,IAAZiB,IACvB2B,EAASuC,UAAU,EAAG,EAAG,IAAK,KAC9B5D,EAAKwF,EAAMQ,MAAQlF,EAAWmF,WAC9BhG,EAAKuF,EAAMU,MAAQpF,EAAWqF,WAEhC1B,EAAc3E,EAAIE,EAAID,EAAIE,EAAIoB,KAqDhCD,EAAYkB,iBAAiB,YAnF7B,SAA4BkD,GACb,cAAT/G,IAAoC,IAAZiB,IAC1B2B,EAASuC,UAAU,EAAG,EAAG,IAAK,KAC9B5D,EAAKwF,EAAMQ,MAAQlF,EAAWmF,WAC9BhG,EAAKuF,EAAMU,MAAQpF,EAAWqF,UAC9BnC,EAAQlE,EAAIA,EAAIC,EAAIE,EAAIoB,GACxB2C,EAAQlE,EAAIE,EAAIC,EAAIA,EAAIoB,GACxB2C,EAAQhE,EAAIA,EAAIC,EAAIF,EAAIsB,GACxB2C,EAAQlE,EAAIE,EAAID,EAAIA,EAAIsB,MA4E5BD,EAAYkB,iBAAiB,YAxE7B,SAA8BkD,GACf,WAAT/G,IAAiC,IAAZiB,IACvB2B,EAASuC,UAAU,EAAG,EAAG,IAAK,KAC9B5D,EAAKwF,EAAMQ,MAAQlF,EAAWmF,WAC9BhG,EAAKuF,EAAMU,MAAQpF,EAAWqF,UAE9B7G,EAAS6D,KAAKC,KAAKD,KAAKwD,KAAKxD,KAAKyD,IAAIzD,KAAKe,IAAIlE,EAAKF,GAAK,IAAMqD,KAAKe,IAAIjE,EAAKF,GAAK,KAClF8D,EAAY/D,EAAIC,EAAIT,EAAQ+B,MA+EhC,MAAMwF,EAAYnG,SAASoG,iBAAiB,UAC5C,IAAK,IAAIxJ,EAAI,EAAGA,EAAIuJ,EAAU/D,OAAQxF,GAAK,EACzCuJ,EAAUvJ,GAAGgF,iBAAiB,YAAaiD,GAC3CsB,EAAUvJ,GAAGgF,iBAAiB,aAAcqD,GAG9C,IAAIoB,GAAWrG,SAASO,eAAe,SACvC,MAAM+F,GAAStG,SAASO,eAAe,aAIvC,SAASgG,KACFpH,EAAOiD,QACZoE,WAAW,KACTC,OAAOC,sBAAsBH,IAC7BxF,EAAMmC,UAAU,EAAG,EAAG,IAAK,KACtB/D,EAAOW,KAAUA,EAAQ,GAC9Be,EAAI8F,aAAaxH,EAAOW,GAAQ,EAAG,EAAG,EAAG,EAAG,IAAK,KACjDiB,EAAM4D,UAAU/D,EAAiB,EAAG,EAAG,IAAK,KACvCd,EAAQX,EAAOiD,OAAS,GAAOjD,EAAOW,EAAQ,GACjDA,GAAS,EACFA,EAAQ,GAChB,IAAOK,GA6DZ,SAASyG,KACHhH,IACFY,EAAI0C,UAAU,EAAG,EAAG,IAAK,KACzB1C,EAAImG,aAAa/G,EAAO,EAAG,EAAG,EAAG,EAAG,IAAK,MAI7C,SAASiH,KACP,MAAMC,EAAMT,GAASlE,SAAS,GAAG4E,YACjCnH,EAAQT,EAAO2H,EAAM,GAjBvB/G,EAAS6B,iBAAiB,QAN1B,WACE,MAAMoF,EAAWjH,EAASlC,MAC1BqC,EAASkF,aAAe4B,QACxB7G,EAAM6G,IAQRV,GAAO1E,iBAAiB,QApDxB,SAAkBkD,GAChB,IAAKlF,EAEH,YADAkF,EAAMmC,kBAGRzG,EAAI0C,UAAU,EAAG,EAAG,IAAK,KACzB4B,EAAMmC,kBACN9H,EAAO+H,KAAKtH,GACZ2G,KACA,MAAMY,EAAMnH,SAASoH,cAAc,OACnCf,GAASxE,UAAUC,OAAO,WAC1BqF,EAAIE,UAAY,gBAChBrH,SAASO,eAAe,UAAU+G,aAAaH,EAAKb,IACpDD,GAAWc,EAEX,MAAMI,EAASvH,SAASoH,cAAc,OACtCG,EAAOF,UAAY,OACnBhB,GAASmB,YAAYD,GACrB1H,EAAOwG,GAASoB,cAActF,SAASC,OAAS,EAChDmF,EAAOR,YAAclH,EAErB,MAAM6H,EAAO1H,SAASoH,cAAc,UACpCM,EAAKC,aAAa,KAAM,cACxBD,EAAKC,aAAa,QAAS,OAC3BD,EAAKC,aAAa,SAAU,OAC5BD,EAAKL,UAAY,aACjBhB,GAASmB,YAAYE,GAErB,MAAME,EAAM5H,SAASoH,cAAc,OACnCQ,EAAID,aAAa,KAAM,UACvBC,EAAIP,UAAY,SAChBhB,GAASmB,YAAYI,GAErB,MAAMzB,EAAYnG,SAASoG,iBAAiB,UAC5C,IAAK,IAAIxJ,EAAI,EAAGA,EAAIuJ,EAAU/D,OAAQxF,GAAK,EACzCuJ,EAAUvJ,GAAGgF,iBAAiB,YAAaiD,GAC3CsB,EAAUvJ,GAAGgF,iBAAiB,aAAcqD,KAoFhD,MAAM4C,GAAkB7H,SAASO,eAAe,UAChDsH,GAAgBjG,iBAAiB,QArBjC,SAAqBkD,GACnB,MAAMC,OAAEA,GAAWD,EACbgD,EAAS/C,EAAOC,QAAQ,WACxB+C,EAAWhD,EAAOC,QAAQ,UAC1BgD,EAAcD,EAASN,cAC7B,GAAKK,GAC+B,IAAhCE,EAAY7F,SAASC,OAAzB,CACI2F,EAASlG,UAAUoG,SAAS,YAAcF,EAASlG,UAAUC,OAAO,WACxEkG,EAAYE,YAAYH,GACxB5I,EAAOgJ,OAAOJ,EAAS5F,SAAS,GAAG4E,YAAc,EAAG,IACpDV,GAAW2B,EAAY7F,SAAS6F,EAAY7F,SAASC,OAAS,IAChDP,UAAUoG,SAAS,YAAc5B,GAASxE,UAAUC,OAAO,WACzE,IAAK,IAAIlF,EAAI,EAAGA,GAAKoL,EAAY7F,SAASC,OAAS,EAAGxF,GAAK,EACzDoL,EAAY7F,SAASvF,GAAGuF,SAAS,GAAG4E,YAAcnK,EAAI,EAGxDiK,KACAD,QAKFiB,GAAgBjG,iBAAiB,QArDjC,SAA0BkD,GACxB,MAAMC,OAAEA,GAAWD,EACbsD,EAAOrD,EAAOC,QAAQ,UACxBoD,EAAKvG,UAAUoG,SAAS,aAGxBrI,IACFT,EAAOkH,GAASlE,SAAS,GAAG4E,YAAc,GAAKnH,GAY5CwI,IACD/B,GAASxE,UAAUoG,SAAS,YAAc5B,GAASxE,UAAUC,OAAO,WAExElC,EAAQT,GADRkH,GAAW+B,GACajG,SAAS,GAAG4E,YAAc,GAC7CqB,EAAKvG,UAAUoG,SAAS,YAAcG,EAAKvG,UAAUC,OAAO,WAEjE+E,KACAD,SAmCc5G,SAASK,uBAAuB,WAAW,GACnDuB,iBAAiB,QALzB,WACEd,EAAWuH,sBA+BErI,SAASK,uBAAuB,WAAW,GACnDuB,iBAAiB,QAzBxB,WACE,IAAKzC,EAAOiD,OAAU,OAEtB,MAAMkG,EAAM,IAAIC,IAAI,CAClBC,QAAS,EACTC,QAAS,GACTC,OAAQ,IAGV,IAAK,IAAI9L,EAAI,EAAGA,EAAIuC,EAAOiD,OAAQxF,GAAK,EACtC0L,EAAIK,SAASxJ,EAAOvC,GAAI,CAAEgM,MAAM,GAAQ,CAAEC,MAAO,IAAO1I,IAG1D,MAAM2I,EAAI9I,SAASK,uBAAuB,gBAAgB,GAC1DyI,EAAE9G,MAAM+G,QAAU,QAElBT,EAAIU,GAAG,WAAaC,IAClBH,EAAEI,KAAOC,IAAIC,gBAAgBH,KAG/BX,EAAIe,SACJP,EAAEQ,SAAW,iBCvyBjBC","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = \"<!doctype html> <html lang=en> <head> <meta charset=UTF-8> <meta name=viewport content=\\\"width=device-width,initial-scale=1\\\"> <meta http-equiv=X-UA-Compatible content=\\\"ie=edge\\\"> <script src=./gif.js></script> <script src=./gif.worker.js></script> <script src=./UPNG.js></script> <title>Piskel-clone</title> </head> <body id=body> <header> <div class=header><h1>PISKEL</h1></div> </header> <div class=main-wrapper> <div class=main> <div class=draw-instr> <div class=wrap-instr> <div class=\\\"pen selected\\\"> <button type=button class=pen-btn id=pen-btn></button> </div> <div class=eraser> <button type=button class=eraser-btn id=eraser-btn></button> </div> <div class=rectangle> <button type=button class=rect-btn id=rect-btn></button> </div> <div class=circle> <button type=button class=circle-btn id=circle-btn></button> </div> <div class=stroke> <button type=button class=stroke-btn id=stroke-btn></button> </div> <div class=mirrorPenX> <button type=button class=vert-mir-btn id=vert-mir-btn></button> </div> <div class=mirrorPenY> <button type=button class=horiz-mir-btn id=horiz-mir-btn></button> </div> <div class=col-picker> <button type=button class=color-picker-btn id=color-picker-btn></button> </div> <div class=secondary-color> <input type=color name=color-sec id=sec-color class=sec-color value=#000000> </div> <div class=primary-color> <input type=color name=color id=color class=prim-color value=#ff0000> </div> </div> </div> <div class=frames id=frames> <div class=\\\"frame current\\\" id=frame> <div class=numb id=numb>1</div> <canvas id=frame-item class=frame-item width=100 height=100></canvas> <div class=delete id=delete></div> </div> <button class=add-frame id=add-frame><i class=\\\"fas fa-plus\\\"></i>Add new frame</button> </div> <div class=canvas-main-wrap> <div class=canvas-main id=canvas-main> <canvas width=768px height=768px class=canvas-preview-clone id=canvas-preview-clone></canvas> <canvas width=768px height=768px class=canvas-clone id=canvas-clone></canvas> <canvas width=768px height=768px class=canvas-draw id=canvas-draw></canvas> </div> </div> <div class=preview> <div class=wrapper-can> <canvas id=canvas-preview class=canvas-preview width=140 height=140></canvas> </div> <div class=preview-control> <span class=value>1 FPS</span> <input type=range name=fps min=1 max=24 step=1 class=fps value=1> <span class=fullscr>Full screen</span> </div> <div class=export> <button class=exp-gif>Export file</button> <a href=\\\"\\\" class=download-gif download>Download as .gif</a> </div> <div class=canvas-sizes> <div>Canvas sizes:</div> <div class=wrap-sizes> <label for=32>32x32</label> <input type=radio name=size value=32 id=32 checked=checked> <label for=64>64x64</label> <input type=radio name=size value=64 id=64> <label for=128>128x128</label> <input type=radio name=size value=128 id=128> </div> </div> <div class=info> <div class=wrap-info> <p>Coordinates:</p> <p>x</p> <p>y</p> </div> </div> </div> </div> </div> </body> </html> \";","/* eslint-disable no-param-reassign */\n/* eslint-disable prefer-const */\n/* eslint-disable no-shadow */\nimport './style.css';\nimport '../app.html';\n\nexport default function piskel() {\n  let drawing = false;\n  let currentColor = 'red';\n  let currentSecColor = 'black';\n  let radius;\n  let mode = 'pen';\n  let button;\n  let userUnitX;\n  let userUnitY;\n  const frames = []; // all frames\n  let frame = []; // current frame\n  let numb = 1;\n  let x0;\n  let y0;\n  let x1;\n  let y1;\n  let mirrorX;\n  let mirrorX0;\n  let mirrorY;\n  let mirrorY0;\n  let count = 0;\n  const fpsRange = document.querySelector('input[type=\"range\"]');\n  const fpsValue = document.querySelector('.value');\n  let fps = fpsRange.value;\n\n\n  // Define Canvas///\n  const canvasMain = document.getElementsByClassName('canvas-main')[0];\n\n  const canvas = document.getElementById('canvas-draw');\n  const ctx = canvas.getContext('2d');\n\n  const canvasClone = document.getElementById('canvas-clone');\n  const ctxClone = canvasClone.getContext('2d');\n\n  // const canvasFrame = document.getElementsByClassName('frame-item')[0];\n  const canvasCloneAnim = document.getElementById('canvas-preview-clone');\n  const cta = canvasCloneAnim.getContext('2d');\n\n  const canvasPrev = document.getElementById('canvas-preview');\n  const cprev = canvasPrev.getContext('2d');\n\n  // Canvas size //////\n  let canvasSize = 32;\n  const size = document.getElementsByClassName('wrap-sizes')[0];\n\n  // //////////////////\n  const pickBtn = document.getElementById('color-picker-btn');\n  const erBtn = document.getElementById('eraser-btn');\n  const penBtn = document.getElementById('pen-btn');\n  const vertMirBtn = document.getElementsByClassName('vert-mir-btn')[0];\n  const horizMirBtn = document.getElementsByClassName('horiz-mir-btn')[0];\n  const rectBtn = document.getElementById('rect-btn');\n  const strokeBtn = document.getElementById('stroke-btn');\n  const circBtn = document.getElementById('circle-btn');\n  const colorBtn = document.getElementById('color');\n  const secColorBtn = document.getElementById('sec-color');\n\n\n  function penMode() {\n    mode = 'pen';\n    document.getElementsByClassName('selected')[0].classList.toggle('selected');\n    penBtn.classList.add('selected');\n  }\n\n  function vertPenMode() {\n    mode = 'vertMirrorPen';\n    document.getElementsByClassName('selected')[0].classList.toggle('selected');\n    vertMirBtn.classList.add('selected');\n  }\n\n  function horizPenMode() {\n    mode = 'horizMirrorPen';\n    document.getElementsByClassName('selected')[0].classList.toggle('selected');\n    horizMirBtn.classList.add('selected');\n  }\n\n  function colPickerMode() {\n    mode = 'colPicker';\n    document.getElementsByClassName('selected')[0].classList.toggle('selected');\n    pickBtn.classList.add('selected');\n  }\n\n\n  function eraserMode() {\n    mode = 'eraser';\n    document.getElementsByClassName('selected')[0].classList.toggle('selected');\n    erBtn.classList.add('selected');\n  }\n\n  function strokeMode() {\n    mode = 'stroke';\n    canvasClone.style.visibility = 'visible';\n    document.getElementsByClassName('selected')[0].classList.toggle('selected');\n    strokeBtn.classList.add('selected');\n  }\n\n  function rectMode() {\n    mode = 'rectangle';\n    canvasClone.style.visibility = 'visible';\n    document.getElementsByClassName('selected')[0].classList.toggle('selected');\n    rectBtn.classList.add('selected');\n  }\n\n  function circleMode() {\n    mode = 'circle';\n    canvasClone.style.visibility = 'visible';\n    document.getElementsByClassName('selected')[0].classList.toggle('selected');\n    circBtn.classList.add('selected');\n  }\n\n\n  pickBtn.addEventListener('click', colPickerMode);\n\n  erBtn.addEventListener('click', eraserMode);\n\n  penBtn.addEventListener('click', penMode);\n\n  vertMirBtn.addEventListener('click', vertPenMode);\n\n  horizMirBtn.addEventListener('click', horizPenMode);\n\n  rectBtn.addEventListener('click', rectMode);\n\n  strokeBtn.addEventListener('click', strokeMode);\n\n  circBtn.addEventListener('click', circleMode);\n\n\n  function getColor() {\n    currentColor = this.value;\n  }\n\n  function getSecColor() {\n    currentSecColor = this.value;\n  }\n\n  colorBtn.addEventListener('input', getColor);\n  secColorBtn.addEventListener('input', getSecColor);\n\n  // //////////////////////\n\n  function defineRadioButtonValue() {\n    for (let i = 0; i < size.children.length; i += 1) {\n      if (size.children[i].checked === true) {\n        canvasSize = +size.children[i].value;\n      }\n    }\n  }\n\n  size.addEventListener('click', defineRadioButtonValue);\n\n\n  // ///////////////\n  const defineUserUnit = (x, y) => {\n    if (x > 768) { x = 768; }\n    if (y > 768) { y = 768; }\n    if (canvasSize === 32) {\n      userUnitX = Math.ceil(x / 24);\n      userUnitY = Math.ceil(y / 24);\n    }\n    if (canvasSize === 64) {\n      userUnitX = Math.ceil(x / 12);\n      userUnitY = Math.ceil(y / 12);\n    }\n    if (canvasSize === 128) {\n      userUnitX = Math.ceil(x / 6);\n      userUnitY = Math.ceil(y / 6);\n    }\n  };\n\n\n  function fillUnit(x, y, ctx) {\n    if (button === 'right') { ctx.fillStyle = currentSecColor; }\n    if (button === 'left') { ctx.fillStyle = currentColor; }\n    if (canvasSize === 32) {\n      const startX = (x - 1) * 24;\n      const startY = (y - 1) * 24;\n      ctx.beginPath();\n      if (mode === 'pen' || mode === 'vertMirrorPen' || mode === 'horizMirrorPen' || mode === 'stroke' || mode === 'rectangle' || mode === 'circle') {\n        ctx.fillRect(startX, startY, 24, 24);\n        ctx.fill();\n      }\n      if (mode === 'eraser') { ctx.clearRect(startX, startY, 24, 24); }\n    }\n    if (canvasSize === 64) {\n      const startX = (x - 1) * 12;\n      const startY = (y - 1) * 12;\n      ctx.beginPath();\n      if (mode === 'pen' || mode === 'vertMirrorPen' || mode === 'horizMirrorPen' || mode === 'stroke' || mode === 'rectangle' || mode === 'circle') {\n        ctx.fillRect(startX, startY, 12, 12);\n        ctx.fill();\n      }\n      if (mode === 'eraser') { ctx.clearRect(startX, startY, 12, 12); }\n    }\n    if (canvasSize === 128) {\n      const startX = (x - 1) * 6;\n      const startY = (y - 1) * 6;\n      ctx.beginPath();\n      if (mode === 'pen' || mode === 'vertMirrorPen' || mode === 'horizMirrorPen' || mode === 'stroke' || mode === 'rectangle' || mode === 'circle') {\n        ctx.fillRect(startX, startY, 6, 6);\n        ctx.fill();\n      }\n      if (mode === 'eraser') { ctx.clearRect(startX, startY, 6, 6); }\n    }\n  }\n  // //////////////////////////////////////////////////\n\n  function BrezAlgCirc(x0, y0, radius, ctxClone) {\n    let x = 0;\n    let y = radius;\n    let delta = 1 - 2 * radius;\n    let error = 0;\n    while (y >= 0) {\n      defineUserUnit(x0 + x, y0 + y);\n      fillUnit(userUnitX, userUnitY, ctxClone);\n      defineUserUnit(x0 + x, y0 - y);\n      fillUnit(userUnitX, userUnitY, ctxClone);\n      defineUserUnit(x0 - x, y0 + y);\n      fillUnit(userUnitX, userUnitY, ctxClone);\n      defineUserUnit(x0 - x, y0 - y);\n      fillUnit(userUnitX, userUnitY, ctxClone);\n      error = 2 * (delta + y) - 1;\n      if (delta < 0 && error <= 0) {\n        x += 1;\n        // eslint-disable-next-line no-continue\n        delta += 2 * x + 1; continue;\n      }\n      error = 2 * (delta - x) - 1;\n      if (delta > 0 && error > 0) {\n        y -= 1;\n        // eslint-disable-next-line no-continue\n        delta += 1 - 2 * y; continue;\n      }\n      x += 1;\n      delta += 2 * (x - y);\n      y -= 1;\n    }\n  }\n\n  // BrezAlg/////////////////////\n\n  function BrezAlg(x0, x1, y0, y1, ctx) {\n    const deltax = Math.abs(x1 - x0);\n    const deltay = Math.abs(y1 - y0);\n    let error = 0;\n    let deltaerr = deltay / deltax;\n    let missedY = y0;\n    let diry = y1 - y0;\n    if (diry > 0) { diry = 1; }\n    if (diry < 0) { diry = -1; }\n    if (x0 < x1) {\n      for (let missedX = x0; missedX <= x1; missedX += 1) {\n        defineUserUnit(missedX, missedY);\n        fillUnit(userUnitX, userUnitY, ctx);\n        error += deltaerr;\n        if (error >= 0.5) {\n          missedY += diry;\n          error -= 1;\n        }\n      }\n    } else if (x0 > x1) {\n      for (let missedX = x0; missedX >= x1; missedX -= 1) {\n        defineUserUnit(missedX, missedY);\n        fillUnit(userUnitX, userUnitY, ctx);\n        error += deltaerr;\n        if (error >= 0.5) {\n          missedY += diry;\n          error -= 1;\n        }\n      }\n    }\n\n    if (deltay > deltax) {\n      deltaerr = deltax / deltay;\n      let missedX = x0;\n      let dirx = x1 - x0;\n      if (dirx > 0) { dirx = 1; }\n      if (dirx < 0) { dirx = -1; }\n      if (y0 < y1) {\n        for (missedY = y0; missedY <= y1; missedY += 1) {\n          defineUserUnit(missedX, missedY);\n          fillUnit(userUnitX, userUnitY, ctx);\n          error += deltaerr;\n          if (error >= 0.5) {\n            missedX += dirx;\n            error -= 1;\n          }\n        }\n      } else if (y0 > y1) {\n        for (missedY = y0; missedY >= y1; missedY -= 1) {\n          defineUserUnit(missedX, missedY);\n          fillUnit(userUnitX, userUnitY, ctx);\n          error += deltaerr;\n          if (error >= 0.5) {\n            missedX += dirx;\n            error -= 1;\n          }\n        }\n      }\n    }\n  }\n\n  // ///////////////////////////////////////////////\n  function strokeLineAlg(x0, x1, y0, y1, ctx) {\n    let x; let y;\n    let dx; let dy; let dx1;\n    let dy1; let px; let py; let xe; let ye; let i;\n    dx = x1 - x0; dy = y1 - y0;\n    dx1 = Math.abs(dx); dy1 = Math.abs(dy);\n    px = 2 * dy1 - dx1; py = 2 * dx1 - dy1;\n    if (dy1 <= dx1) {\n      if (dx >= 0) {\n        x = x0; y = y0; xe = x1;\n      } else {\n        x = x1; y = y1; xe = x0;\n      }\n      defineUserUnit(x, y);\n      fillUnit(userUnitX, userUnitY, ctx);\n\n      for (i = 0; x < xe; i += 1) {\n        x += 1;\n        if (px < 0) {\n          px += 2 * dy1;\n        } else {\n          if ((dx < 0 && dy < 0) || (dx > 0 && dy > 0)) {\n            y += 1;\n          } else {\n            y -= 1;\n          }\n          px += 2 * (dy1 - dx1);\n        }\n        defineUserUnit(x, y);\n        fillUnit(userUnitX, userUnitY, ctx);\n      }\n    } else {\n      if (dy >= 0) {\n        x = x0; y = y0; ye = y1;\n      } else {\n        x = x1; y = y1; ye = y0;\n      }\n      defineUserUnit(x, y);\n      fillUnit(userUnitX, userUnitY, ctx);\n      for (i = 0; y < ye; i += 1) {\n        y += 1;\n        if (py <= 0) {\n          py += 2 * dx1;\n        } else {\n          if ((dx < 0 && dy < 0) || (dx > 0 && dy > 0)) {\n            x += 1;\n          } else {\n            x -= 1;\n          }\n          py += 2 * (dx1 - dy1);\n        }\n        defineUserUnit(x, y);\n        fillUnit(userUnitX, userUnitY, ctx);\n      }\n    }\n  }\n\n  // //////////////////////////////////////////////////////////////////////////////////\n\n  const coord = document.getElementsByClassName('wrap-info')[0];\n\n\n  function displayCoordinates(event) {\n    const x = event.clientX;\n    const y = event.clientY;\n    defineUserUnit(x, y);\n    coord.children[1].innerHTML = `x ${userUnitX} user unit, ${x} px`;\n    coord.children[2].innerHTML = `y ${userUnitY} user unit, ${y} px`;\n  }\n\n\n  canvas.addEventListener('mousemove', displayCoordinates);\n\n  function cancelContextMenu(event) {\n    event.preventDefault();\n  }\n\n  function pickColor(event) {\n    if (mode === 'colPicker') {\n      x0 = event.pageX - canvasMain.offsetLeft;\n      y0 = event.pageY - canvasMain.offsetTop;\n      const imageData = ctx.getImageData(x0, y0, 1, 1);\n      const pixel = imageData.data;\n      let red = pixel[0].toString(16);\n      if (red.length === 1) { red = `0${red}`; }\n      let green = pixel[1].toString(16);\n      if (green.length === 1) { green = `0${green}`; }\n      let blue = pixel[2].toString(16);\n      if (blue.length === 1) { blue = `0${blue}`; }\n      if (event.button === 0) {\n        currentColor = `#${red}${green}${blue}`;\n        colorBtn.value = currentColor;\n      }\n      if (event.button === 2) {\n        currentSecColor = `#${red}${green}${blue}`;\n        secColorBtn.value = currentSecColor;\n      }\n    }\n  }\n\n  // ////////////////start Drawing///////////////\n  function startDrawing(event) {\n    if (event.button === 0) { button = 'left'; }\n    if (event.button === 2) { button = 'right'; }\n    if (mode === 'pen' || mode === 'eraser') {\n      drawing = true;\n      x0 = undefined;\n      y0 = undefined;\n    }\n    if (mode === 'vertMirrorPen') {\n      drawing = true;\n      x0 = undefined;\n      y0 = undefined;\n      mirrorX = undefined;\n      mirrorX0 = undefined;\n    }\n\n    if (mode === 'horizMirrorPen') {\n      drawing = true;\n      x0 = undefined;\n      y0 = undefined;\n      mirrorY = undefined;\n      mirrorY0 = undefined;\n    }\n\n    if (mode === 'stroke' || mode === 'rectangle' || mode === 'circle') {\n      canvasClone.style.visibility = 'visible';\n      x0 = event.pageX - canvasMain.offsetLeft;\n      y0 = event.pageY - canvasMain.offsetTop;\n      drawing = true;\n      defineUserUnit(x0, y0);\n      fillUnit(userUnitX, userUnitY, ctxClone);\n    }\n  }\n  // ///////////////////////////////////\n  function drawFrame() {\n    let canvasFrame = document.getElementsByClassName('frame current')[0].children[1]; // define canvas in the current frame\n    let ctf = canvasFrame.getContext('2d');\n    ctf.clearRect(0, 0, 100, 100);\n    ctf.drawImage(canvas, 0, 0, 100, 100);\n    frame = ctx.getImageData(0, 0, 768, 768);\n  }\n  // /////////////////////////////\n\n  function startCloneDrawing(event) {\n    if (event.button === 0) { button = 'left'; }\n    if (event.button === 2) { button = 'right'; }\n    if (mode === 'stroke' || mode === 'rectangle' || mode === 'circle') {\n      x0 = event.pageX - canvasMain.offsetLeft;\n      y0 = event.pageY - canvasMain.offsetTop;\n      drawing = true;\n      defineUserUnit(x0, y0);\n      fillUnit(userUnitX, userUnitY, ctxClone);\n    }\n  }\n\n  function stopDrawing() {\n    if (mode === 'pen' || mode === 'eraser') {\n      drawing = false;\n      x0 = undefined;\n      x1 = undefined;\n      y0 = undefined;\n      y1 = undefined;\n      drawFrame();\n    }\n    if (mode === 'vertMirrorPen' || mode === 'horizMirrorPen') {\n      drawing = false;\n      x0 = undefined;\n      x1 = undefined;\n      y0 = undefined;\n      y1 = undefined;\n      mirrorX = undefined;\n      mirrorX0 = undefined;\n      mirrorY = undefined;\n      mirrorY0 = undefined;\n      drawFrame();\n    }\n  }\n\n  function stopCloneDrawing() {\n    if (mode === 'circle') {\n      drawing = false;\n      x1 = undefined;\n      y1 = undefined;\n      canvasClone.style.visibility = 'hidden';\n      BrezAlgCirc(x0, y0, radius, ctx);\n      ctxClone.clearRect(0, 0, 768, 768);\n      x0 = undefined;\n      y0 = undefined;\n    }\n    if (mode === 'stroke') {\n      drawing = false;\n      canvasClone.style.visibility = 'hidden';\n      strokeLineAlg(x0, x1, y0, y1, ctx);\n      ctxClone.clearRect(0, 0, 768, 768);\n      x0 = undefined;\n      x1 = undefined;\n      y0 = undefined;\n      y1 = undefined;\n    }\n    if (mode === 'rectangle') {\n      drawing = false;\n      canvasClone.style.visibility = 'hidden';\n      BrezAlg(x0, x0, y0, y1, ctx);\n      BrezAlg(x0, x1, y1, y1, ctx);\n      BrezAlg(x1, x1, y1, y0, ctx);\n      BrezAlg(x0, x1, y0, y0, ctx);\n      ctxClone.clearRect(0, 0, 768, 768);\n      x0 = undefined;\n      x1 = undefined;\n      y0 = undefined;\n      y1 = undefined;\n    }\n    drawFrame();\n  }\n\n  // /////////////////////////////////////////////////////////////////\n\n\n  function rectDrawingProcess(event) {\n    if (mode === 'rectangle' && drawing === true) {\n      ctxClone.clearRect(0, 0, 780, 780);\n      x1 = event.pageX - canvasMain.offsetLeft;\n      y1 = event.pageY - canvasMain.offsetTop;\n      BrezAlg(x0, x0, y0, y1, ctxClone);\n      BrezAlg(x0, x1, y1, y1, ctxClone);\n      BrezAlg(x1, x1, y1, y0, ctxClone);\n      BrezAlg(x0, x1, y0, y0, ctxClone);\n    }\n  }\n\n  function circleDrawingProcess(event) {\n    if (mode === 'circle' && drawing === true) {\n      ctxClone.clearRect(0, 0, 780, 780);\n      x1 = event.pageX - canvasMain.offsetLeft;\n      y1 = event.pageY - canvasMain.offsetTop;\n      // eslint-disable-next-line no-restricted-properties\n      radius = Math.ceil(Math.sqrt(Math.pow(Math.abs(x1 - x0), 2) + (Math.abs(y1 - y0), 2)));\n      BrezAlgCirc(x0, y0, radius, ctxClone);\n    }\n  }\n\n  // /////////////////////\n  function lineDrawingProcess(event) {\n    if (mode === 'stroke' && drawing === true) {\n      ctxClone.clearRect(0, 0, 780, 780);\n      x1 = event.pageX - canvasMain.offsetLeft;\n      y1 = event.pageY - canvasMain.offsetTop;\n    }\n    strokeLineAlg(x0, x1, y0, y1, ctxClone);\n  }\n\n  // //////////////////////\n  function drawingProcess(event) {\n    if ((mode === 'pen' && drawing === true) || (mode === 'eraser' && drawing === true)) {\n      x1 = event.pageX - canvasMain.offsetLeft;\n      y1 = event.pageY - canvasMain.offsetTop;\n      defineUserUnit(x1, y1);\n      fillUnit(userUnitX, userUnitY, ctx);\n      if ((x0) && (y0)) { BrezAlg(x0, x1, y0, y1, ctx); }\n      x0 = x1;\n      y0 = y1;\n    }\n    if (mode === 'vertMirrorPen' && drawing === true) {\n      x1 = event.pageX - canvasMain.offsetLeft;\n      mirrorX = 768 - x1 + 1;\n      y1 = event.pageY - canvasMain.offsetTop;\n      defineUserUnit(x1, y1);\n      fillUnit(userUnitX, userUnitY, ctx);\n      defineUserUnit(mirrorX, y1);\n      fillUnit(userUnitX, userUnitY, ctx);\n      if ((x0) && (y0)) { BrezAlg(x0, x1, y0, y1, ctx); }\n      if ((mirrorX0) && (y0)) { BrezAlg(mirrorX0, mirrorX, y0, y1, ctx); }\n      x0 = x1;\n      y0 = y1;\n      mirrorX0 = mirrorX;\n    }\n    if (mode === 'horizMirrorPen' && drawing === true) {\n      x1 = event.pageX - canvasMain.offsetLeft;\n      y1 = event.pageY - canvasMain.offsetTop;\n      mirrorY = 768 - y1 + 1;\n      defineUserUnit(x1, y1);\n      fillUnit(userUnitX, userUnitY, ctx);\n      defineUserUnit(x1, mirrorY);\n      fillUnit(userUnitX, userUnitY, ctx);\n      if ((x0) && (y0)) { BrezAlg(x0, x1, y0, y1, ctx); }\n      if ((mirrorY0) && (x0)) { BrezAlg(x0, x1, mirrorY0, mirrorY, ctx); }\n      x0 = x1;\n      y0 = y1;\n      mirrorY0 = mirrorY;\n    }\n  }\n\n  // drawing events\n  canvas.addEventListener('mousedown', startDrawing);\n  canvas.addEventListener('mousedown', pickColor);\n  canvas.addEventListener('mouseup', stopDrawing);\n  canvas.addEventListener('mousemove', drawingProcess);\n  canvas.addEventListener('contextmenu', cancelContextMenu);\n  canvasClone.addEventListener('mousedown', startCloneDrawing);\n  canvasClone.addEventListener('mouseup', stopCloneDrawing);\n  canvasClone.addEventListener('mousemove', lineDrawingProcess);\n  canvasClone.addEventListener('mousemove', rectDrawingProcess);\n  canvasClone.addEventListener('mousemove', circleDrawingProcess);\n\n  // Work with frames////////////////////////////////////////////////////\n\n  function hoverFrame(event) {\n    const delBtn = event.target.closest('.frame').children[2];\n    delBtn.style.visibility = 'visible';\n  }\n\n  function leaveFrame(event) {\n    const delBtn = event.target.closest('.frame').children[2];\n    delBtn.style.visibility = 'hidden';\n  }\n\n  const frameItem = document.querySelectorAll('.frame');\n  for (let i = 0; i < frameItem.length; i += 1) {\n    frameItem[i].addEventListener('mouseover', hoverFrame);\n    frameItem[i].addEventListener('mouseleave', leaveFrame);\n  }\n\n  let curFrame = document.getElementById('frame');\n  const addBtn = document.getElementById('add-frame');\n\n  // Animation /////////////////////////////////////\n\n  function animation() {\n    if (!frames.length) { return; }\n    setTimeout(() => {\n      window.requestAnimationFrame(animation);\n      cprev.clearRect(0, 0, 140, 140);\n      if (!frames[count]) { count = 0; }\n      cta.putImageData(frames[count], 0, 0, 0, 0, 768, 768);\n      cprev.drawImage(canvasCloneAnim, 0, 0, 140, 140);\n      if ((count < frames.length - 1) && (frames[count + 1])) {\n        count += 1;\n      } else { count = 0; }\n    }, 1000 / fps);\n  }\n\n  // ///////////////////////////////////////////////////////////////////////////\n\n  // Add new frame //\n  function addFrame(event) {\n    if (!frame) {\n      event.stopPropagation();\n      return;\n    }\n    ctx.clearRect(0, 0, 768, 768);\n    event.stopPropagation();\n    frames.push(frame); // add last frame to the frames array\n    animation();\n    const div = document.createElement('div');\n    curFrame.classList.toggle('current');\n    div.className = 'frame current';\n    document.getElementById('frames').insertBefore(div, addBtn); // add new frame before button\n    curFrame = div;\n\n    const numDiv = document.createElement('div');\n    numDiv.className = 'numb';\n    curFrame.appendChild(numDiv);\n    numb = curFrame.parentElement.children.length - 1;\n    numDiv.textContent = numb;\n\n    const canv = document.createElement('canvas');\n    canv.setAttribute('id', 'frame-item');\n    canv.setAttribute('width', '100');\n    canv.setAttribute('height', '100');\n    canv.className = 'frame-item';\n    curFrame.appendChild(canv);\n\n    const btn = document.createElement('div');\n    btn.setAttribute('id', 'delete');\n    btn.className = 'delete';\n    curFrame.appendChild(btn);\n\n    const frameItem = document.querySelectorAll('.frame');\n    for (let i = 0; i < frameItem.length; i += 1) {\n      frameItem[i].addEventListener('mouseover', hoverFrame);\n      frameItem[i].addEventListener('mouseleave', leaveFrame);\n    }\n  }\n\n  // ///////////////////////////////////////////////////\n  function rangeValue() {\n    const newValue = fpsRange.value;\n    fpsValue.innerHTML = `${newValue} FPS`;\n    fps = newValue;\n  }\n\n  fpsRange.addEventListener('input', rangeValue);\n\n  // ////////////////////////////////////////////////////\n\n\n  addBtn.addEventListener('click', addFrame);\n\n  // Draw main \"canvas\" in according to current Frame\n  function drawMain() {\n    if (frame) {\n      ctx.clearRect(0, 0, 768, 768);\n      ctx.putImageData(frame, 0, 0, 0, 0, 768, 768);\n    }\n  }\n\n  function searchFrame() {\n    const pos = curFrame.children[0].textContent;\n    frame = frames[pos - 1];\n  }\n\n  // Make frame - current by clicking\n\n  function makeCurrentFrame(event) {\n    const { target } = event;\n    const item = target.closest('.frame');\n    if (item.classList.contains('current')) { return; }\n\n    // let copy = frame; // save changes in current frame\n    if (frame) {\n      frames[curFrame.children[0].textContent - 1] = frame/* copy */;\n      // frame.length = 0;\n    }\n    // ///////////////////////////////////////\n    /*    if (!frame.length) {\n      const delFrame = curFrame;\n      const parentFrame = delFrame.parentElement;\n      parentFrame.removeChild(delFrame);\n      for (let i = 0; i <= parentFrame.children.length - 2; i += 1) {\n        parentFrame.children[i].children[0].textContent = i + 1;\n      }\n    } */\n    if (!item) { return; }\n    if (curFrame.classList.contains('current')) { curFrame.classList.toggle('current'); }\n    curFrame = item;\n    frame = frames[curFrame.children[0].textContent - 1];\n    if (!item.classList.contains('current')) { item.classList.toggle('current'); }\n\n    searchFrame();\n    drawMain();\n  }\n\n  // Delete frame ///////////\n\n  function deleteFrame(event) {\n    const { target } = event;\n    const btnDel = target.closest('.delete');\n    const delFrame = target.closest('.frame');\n    const parentFrame = delFrame.parentElement;\n    if (!btnDel) { return; }\n    if (parentFrame.children.length === 2) { return; }\n    if (delFrame.classList.contains('current')) { delFrame.classList.toggle('current'); }\n    parentFrame.removeChild(delFrame);\n    frames.splice(delFrame.children[0].textContent - 1, 1);\n    curFrame = parentFrame.children[parentFrame.children.length - 2];\n    if (!curFrame.classList.contains('current')) { curFrame.classList.toggle('current'); }\n    for (let i = 0; i <= parentFrame.children.length - 2; i += 1) {\n      parentFrame.children[i].children[0].textContent = i + 1;\n    }\n\n    searchFrame();\n    drawMain();\n  }\n\n  const containerFrames = document.getElementById('frames');\n  containerFrames.addEventListener('click', deleteFrame);\n  containerFrames.addEventListener('click', makeCurrentFrame);\n\n\n  // Full screen//////////////\n  function fullScreen() {\n    canvasPrev.requestFullscreen();\n  }\n\n  const fullScr = document.getElementsByClassName('fullscr')[0];\n  fullScr.addEventListener('click', fullScreen);\n\n  // Export as .gif ////////\n  function exportGif() {\n    if (!frames.length) { return; }\n    // eslint-disable-next-line no-undef\n    const gif = new GIF({\n      workers: 2,\n      quality: 10,\n      repeat: 0,\n    });\n\n    for (let i = 0; i < frames.length; i += 1) {\n      gif.addFrame(frames[i], { copy: true }, { delay: 1000 / fps });\n    }\n\n    const a = document.getElementsByClassName('download-gif')[0];\n    a.style.display = 'block';\n\n    gif.on('finished', (blob) => {\n      a.href = URL.createObjectURL(blob);\n    });\n\n    gif.render();\n    a.download = 'piskel-clone';\n  }\n\n  const expGif = document.getElementsByClassName('exp-gif')[0];\n  expGif.addEventListener('click', exportGif);\n}\n","import app from './tools/index';\nimport './tools/landingStyle.css';\n\napp();\n"],"sourceRoot":""}